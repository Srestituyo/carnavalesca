<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
<title>CARNAVALESCA - Check-In</title>
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Sans:wght@400;500;600&display=swap" rel="stylesheet">
<style>
  :root{--bg:#dff1fb;--surface:#ffffff;--surface2:#c8e8f7;--border:#8ecde8;--accent:#e67e00;--accent2:#f39c12;--hbg:#1a8fc4;--htxt:#ffffff;--green:#0e9e6e;--green-dim:rgba(14,158,110,0.12);--text:#0a1a10;--muted:#3a7fa0}
  *{box-sizing:border-box;margin:0;padding:0}
  body{background:var(--bg);color:var(--text);font-family:'DM Sans',sans-serif;min-height:100vh}
  header{background:var(--hbg);border-bottom:3px solid var(--accent);padding:14px 16px;display:flex;align-items:center;justify-content:space-between;position:sticky;top:0;z-index:100;gap:10px}
  .htitle{font-family:'Bebas Neue',sans-serif;font-size:26px;letter-spacing:3px;color:var(--htxt);line-height:1}
  .hsub{font-size:10px;font-weight:700;letter-spacing:2px;text-transform:uppercase;color:var(--accent)}
  .hstats{display:flex;gap:8px}
  .pill{background:rgba(255,255,255,0.15);border:1.5px solid rgba(255,255,255,0.3);border-radius:20px;padding:5px 11px;font-size:12px;font-weight:500;color:var(--htxt);white-space:nowrap}
  .pill b{font-family:'Bebas Neue',sans-serif;font-size:17px;margin-right:2px}
  .pill.ok b{color:#4ade80}
  .sbar{background:var(--surface);border-bottom:1px solid var(--border);padding:12px 14px;position:sticky;top:69px;z-index:99;display:flex;gap:8px}
  .swrap{position:relative;flex:1}
  .swrap span{position:absolute;left:12px;top:50%;transform:translateY(-50%);pointer-events:none}
  input{width:100%;background:var(--bg);border:1.5px solid var(--border);border-radius:10px;padding:11px 12px 11px 38px;color:var(--text);font-family:'DM Sans',sans-serif;font-size:15px;outline:none}
  input:focus{border-color:var(--accent)}
  input::placeholder{color:var(--muted)}
  .fbtn{background:var(--surface);border:1.5px solid var(--border);border-radius:10px;color:var(--muted);padding:0 14px;cursor:pointer;font-family:'DM Sans',sans-serif;font-size:13px;font-weight:600;white-space:nowrap}
  .fbtn.on{border-color:var(--green);color:var(--green);background:var(--green-dim)}
  .info{padding:8px 14px;font-size:12px;color:var(--muted);border-bottom:1px solid var(--border)}
  .list{padding:12px 12px 100px;display:flex;flex-direction:column;gap:10px}
  .card{background:var(--surface);border:1.5px solid var(--border);border-radius:14px;overflow:hidden;box-shadow:0 1px 4px rgba(0,0,0,0.06)}
  .card.full{border-color:var(--green)}
  .card.part{border-color:#ca8a04}
  .ch{padding:13px 14px;display:flex;align-items:center;gap:10px;cursor:pointer;user-select:none;-webkit-tap-highlight-color:transparent}
  .ch:active{background:var(--surface2)}
  .av{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,var(--accent),var(--accent2));display:flex;align-items:center;justify-content:center;font-family:'Bebas Neue',sans-serif;font-size:17px;color:#fff;flex-shrink:0}
  .ci{flex:1;min-width:0}
  .tn{font-weight:600;font-size:15px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}
  .cid{font-size:11px;color:var(--muted);font-family:monospace}
  .cm{display:flex;flex-direction:column;align-items:flex-end;gap:2px;flex-shrink:0}
  .cnt{font-family:'Bebas Neue',sans-serif;font-size:22px;color:var(--accent);line-height:1}
  .prog{font-size:11px;color:var(--muted)}
  .prog.done{color:var(--green);font-weight:700}
  .arr{color:var(--muted);font-size:11px;transition:transform 0.2s;flex-shrink:0}
  .card.open .arr{transform:rotate(180deg)}
  .pp{display:none;border-top:1px solid var(--border)}
  .card.open .pp{display:block}
  .pr{display:flex;align-items:center;gap:12px;padding:13px 14px;border-bottom:1px solid var(--border);cursor:pointer;-webkit-tap-highlight-color:transparent}
  .pr:last-child{border-bottom:none}
  .pr:active{background:var(--surface2)}
  .pr.ck{background:var(--green-dim)}
  .circle{width:32px;height:32px;border-radius:50%;border:2px solid var(--border);display:flex;align-items:center;justify-content:center;flex-shrink:0;font-size:15px;background:var(--bg);color:transparent;transition:all 0.15s;pointer-events:none}
  .pr.ck .circle{background:var(--green);border-color:var(--green);color:#fff}
  .pname{flex:1;font-size:14px;font-weight:500;pointer-events:none}
  .pr.ck .pname{text-decoration:line-through;color:var(--muted)}
  .ptime{font-size:11px;color:var(--green);font-weight:700;pointer-events:none}
  .fab{position:fixed;bottom:22px;right:16px;background:var(--accent);color:var(--htxt);border:none;border-radius:14px;padding:14px 18px;font-family:'DM Sans',sans-serif;font-size:14px;font-weight:700;cursor:pointer;box-shadow:0 4px 20px rgba(0,0,0,0.2);-webkit-tap-highlight-color:transparent}
  .fab:active{opacity:0.85}
  .toast{position:fixed;bottom:88px;left:50%;transform:translateX(-50%) translateY(16px);background:var(--green);color:#fff;font-weight:600;font-size:14px;padding:11px 22px;border-radius:30px;opacity:0;transition:all 0.3s;pointer-events:none;white-space:nowrap;z-index:200}
  .toast.show{opacity:1;transform:translateX(-50%) translateY(0)}
</style>
</head>
<body>
<header>
  <div><div class="htitle">CARNAVALESCA</div><div class="hsub">Carnaval Punta Cana 2026</div></div>
  <div class="hstats">
    <div class="pill"><b id="sRes">0</b>reservas</div>
    <div class="pill ok"><b id="sCk">0</b>&#10003;</div>
  </div>
</header>
<div class="sbar">
  <div class="swrap"><span>&#128269;</span><input id="q" type="text" placeholder="Nombre o confirmacion..." autocomplete="off" autocorrect="off" spellcheck="false"></div>
  <button class="fbtn" id="fb">Solo pendientes</button>
</div>
<div class="info" id="inf"></div>
<div class="list" id="lst"></div>
<div style="display:none;text-align:center;padding:60px 20px;color:var(--muted)" id="emp"><div style="font-size:48px">&#127917;</div><h3>Sin resultados</h3></div>
<button class="fab" id="expBtn">&#128203; Exportar log</button>
<div class="toast" id="toast"></div>
<script>
var _b64 = "W3siaWQiOiAiMTU2NjYwMTIzOTczMDAyNCIsICJ0aXR1bGFyIjogIlBpYSBHb3JpcyIsICJudW1fcGVvcGxlIjogMSwgInBhcnRpY2lwYW50cyI6IFsiUGlhIEdvcmlzIl19LCB7ImlkIjogIjE1NjY2MDEyNDI5ODc1NjkiLCAidGl0dWxhciI6ICJBbmRyZWEgIFZhc3F1ZXogSGlsYXJpbyIsICJudW1fcGVvcGxlIjogMywgInBhcnRpY2lwYW50cyI6IFsiQW5kcmVhICBWYXNxdWV6IEhpbGFyaW8iLCAiSm92ZW5zb24gRGF1ZGluIiwgIlJhaW5uZWxpcyBTb3NhIFZhc3F1ZXoiXX0sIHsiaWQiOiAiMTU2NjYwMTI2MTkzMTQzOCIsICJ0aXR1bGFyIjogIlN0ZWZmYW55IFJhbW9zIiwgIm51bV9wZW9wbGUiOiAzLCAicGFydGljaXBhbnRzIjogWyJHb256YWxvIE1hbnVlbCBHYXJjXHUwMGVkYSBSYW1vcyIsICJMdWlzIG1hbnVlbCBHYXJjXHUwMGVjYSIsICJTdGVmZmFueSBSYW1vcyJdfSwgeyJpZCI6ICIxNTY2NjAxMjY5OTI3MDIwIiwgInRpdHVsYXIiOiAiR2VvcmxlbmEgU2FudGlhZ28gU3VzYVx1MDBmMWEiLCAibnVtX3Blb3BsZSI6IDMsICJwYXJ0aWNpcGFudHMiOiBbIkRlbm55cyBHYXJjaWEgR2FyY1x1MDBlZGEiLCAiR2VvcmxlbmEgU2FudGlhZ28gU3VzYVx1MDBmMWEiLCAiUmVuYXRhIEdhcmNpYSBTYW50aWFnbyJdfSwgeyJpZCI6ICIxNTY2NjAxMjc5MzE4NzUxIiwgInRpdHVsYXIiOiAiQWxlamFuZHJvICBEZSBMZW9uIiwgIm51bV9wZW9wbGUiOiAyLCAicGFydGljaXBhbnRzIjogWyJBbGVqYW5kcm8gIERlIExlb24iLCAiTWlyZWxteSBDYWxkZXJvbiJdfSwgeyJpZCI6ICIxNTY2NjAxMjgxMDI3MDAzIiwgInRpdHVsYXIiOiAiSk9TRSBBTEJFUlRPIEZVTEdFTkNJTyBST0RSSUdVRVoiLCAibnVtX3Blb3BsZSI6IDQsICJwYXJ0aWNpcGFudHMiOiBbIkpPU0UgQUxCRVJUTyBGVUxHRU5DSU8gUk9EUklHVUVaIiwgIk1JUklBTSBNQVJURSIsICJTVVJJRUxZIEZVTEdFTkNJTyIsICJWQUxFUklFIEZVTEdFTkNJTyJdfSwgeyJpZCI6ICIxNTY2NjAxMjgxMzE4MzE5IiwgInRpdHVsYXIiOiAiQ2FtaWxhIFNhZmlhIFJvbWVybyBNb3JpbGxvIiwgIm51bV9wZW9wbGUiOiA0LCAicGFydGljaXBhbnRzIjogWyJDYW1pbGEgU2FmaWEgUm9tZXJvIE1vcmlsbG8iLCAiTWFyY29zIEF1cmVsaW8gU3VhcmV6IEhlcm5hbmRleiIsICJNYXJpYSBGZXJuYW5kYSBQZXJlaXJhIEdvbnphbGVzIiwgIk5hdGhhbmFlbCBOdVx1MDBmMWV6IEdvbnphbGVzIl19LCB7ImlkIjogIjE1NjY2MDEyODcyOTcwODciLCAidGl0dWxhciI6ICJDbGFybGluIFJpdmVyYSIsICJudW1fcGVvcGxlIjogNCwgInBhcnRpY2lwYW50cyI6IFsiQ2xhcmxpbiBSaXZlcmEiLCAiR2VuZXNpcyBOb3JhbmdlbHkgR29tZXoiLCAiWW9zdGFsaXMgRGFyZW4gR29tZXoiLCAiWW9zdGFsaXMgRGF2aWQgR29tZXoiXX0sIHsiaWQiOiAiMTU2NjYwMTI4ODY5MzYyNyIsICJ0aXR1bGFyIjogIkVsaXphYmV0aCBDYXN0aWxsbyIsICJudW1fcGVvcGxlIjogNCwgInBhcnRpY2lwYW50cyI6IFsiQ2VzYXIgUmlqbyIsICJFbGl6YWJldGggQ2FzdGlsbG8iLCAiR3JhY2UgUmlqbyIsICJNYWlhIFJpam8iXX0sIHsiaWQiOiAiMTU2NjYwMTI5MTMxNjUzNSIsICJ0aXR1bGFyIjogIkNlcnZlY2VyaWEgUHVudGEgQ2FuYSBDYW5pdGEiLCAibnVtX3Blb3BsZSI6IDgsICJwYXJ0aWNpcGFudHMiOiBbIkNhbml0YTEgMSIsICJDYW5pdGEyIDIiLCAiQ2FuaXRhMyAzIiwgIkNhbml0YTQgNCIsICJDYW5pdGE1IDUiLCAiQ2FuaXRhNiA2IiwgIkNhbml0YTcgNyIsICJDZXJ2ZWNlcmlhIFB1bnRhIENhbmEgQ2FuaXRhIl19LCB7ImlkIjogIjE1NjY2MDEyOTE0MzIwODMiLCAidGl0dWxhciI6ICJDZXJ2ZWNlcmlhIFB1bnRhIENhbmEgQ2FuaXRhIiwgIm51bV9wZW9wbGUiOiA4LCAicGFydGljaXBhbnRzIjogWyJDYW5pdGEyIDIiLCAiQ2FuaXRhMyAzIiwgIkNhbml0YTQgNCIsICJDYW5pdGE2IDYiLCAiQ2FuaXRhNyA3IiwgIkNhbml0YTggOCIsICJDYW5pdGE5IDkiLCAiQ2VydmVjZXJpYSBQdW50YSBDYW5hIENhbml0YSJdfSwgeyJpZCI6ICIxNTY2NjAxMjkyNjQ0MTA5IiwgInRpdHVsYXIiOiAiQ2VydmVjZXJpYSBQdW50YSBDYW5hIENhbml0YSIsICJudW1fcGVvcGxlIjogOCwgInBhcnRpY2lwYW50cyI6IFsiQ2FuaXRhMSAxIiwgIkNhbml0YTIgMiIsICJDYW5pdGEzIDMiLCAiQ2FuaXRhNCA0IiwgIkNhbml0YTUgNSIsICJDYW5pdGE2IDYiLCAiQ2FuaXRhNyA3IiwgIkNlcnZlY2VyaWEgUHVudGEgQ2FuYSBDYW5pdGEiXX0sIHsiaWQiOiAiMTU2NjYwMTI5NTAzNTQ4NCIsICJ0aXR1bGFyIjogIkFuYSBTYXJhbnRlIiwgIm51bV9wZW9wbGUiOiA0LCAicGFydGljaXBhbnRzIjogWyJBbmEgU2FyYW50ZSIsICJNYWlhIE1hdGVvIiwgIllvcmRpIE1hdGVvIiwgIllvcmVsbCBNYXRlbyJdfSwgeyJpZCI6ICIxNTY2NjAxMjk1NjQwNTk4IiwgInRpdHVsYXIiOiAiQ2VydmVjZXJpYSBQdW50YSBDYW5hIENhbml0YSIsICJudW1fcGVvcGxlIjogOCwgInBhcnRpY2lwYW50cyI6IFsiY2FuaXRhIDEiLCAiQ2FuaXRhMiAyIiwgIkNhbml0YTMgMyIsICJDYW5pdGE0IDQiLCAiQ2FuaXRhNSBDYW5pdGE1IiwgIkNhbml0YTcgQ2FuaXRhNyIsICJDYW5pdGE4IDgiLCAiQ2VydmVjZXJpYSBQdW50YSBDYW5hIENhbml0YSJdfSwgeyJpZCI6ICIxNTY2NjAxMjk3NDQ3MjU5IiwgInRpdHVsYXIiOiAiQ2VydmVjZXJpYSBQdW50YSBDYW5hIENhbml0YSIsICJudW1fcGVvcGxlIjogOCwgInBhcnRpY2lwYW50cyI6IFsiQ2FuaXRhMSAxIiwgIkNhbml0YTIgMiIsICJDYW5pdGEzIDMiLCAiQ2FuaXRhNCA0IiwgIkNhbml0YTUgNSIsICJDYW5pdGE2IDYiLCAiQ2FuaXRhNyA3IiwgIkNlcnZlY2VyaWEgUHVudGEgQ2FuYSBDYW5pdGEiXX0sIHsiaWQiOiAiMTU2NjYwMTMwNzgyMDI1MyIsICJ0aXR1bGFyIjogIkJlbGtpcyBDdXN0b2RpbyIsICJudW1fcGVvcGxlIjogNCwgInBhcnRpY2lwYW50cyI6IFsiXHUwMGMxbmdlbCBUYXZhcmV6IiwgIkJlbGtpcyBDdXN0b2RpbyIsICJKb3NlIEJhbGRlcmEiLCAiUm9zc3kgRWNoYXZhcnJcdTAwZWRhIl19LCB7ImlkIjogIjE1NjY2MDEzMTU2NzI0MDQiLCAidGl0dWxhciI6ICJBbm55IE4gQ2VzYSBDcnV6IiwgIm51bV9wZW9wbGUiOiAzLCAicGFydGljaXBhbnRzIjogWyJBbm55IE4gQ2VzYSBDcnV6IiwgIkl2ZSBMaXNiZXRoIENlc2EgQ3J1eiIsICJNYXJ0YSBJc2FiZWwgQ3J1eiBNb2xpbmEiXX0sIHsiaWQiOiAiMTU2NjYwMjAxMzE3NTEzMyIsICJ0aXR1bGFyIjogIk1vbmlrYSBIbGF2a292YSIsICJudW1fcGVvcGxlIjogNSwgInBhcnRpY2lwYW50cyI6IFsiRGFpYSBab3JyaWxsYSIsICJEYW5pZWwgWm9ycmlsbGEiLCAiTWlsYSBFbGFpbmUgWm9ycmlsbGEiLCAiTW9uaWthIEhsYXZrb3ZhIiwgIldhbmVsIFpvcnJpbGxhIl19LCB7ImlkIjogIjE1NjY2MDIwMjExNjc1NzEiLCAidGl0dWxhciI6ICJBTkEgS0FSSU5BICBNT1JFTk8gQkVUQU5DRVMiLCAibnVtX3Blb3BsZSI6IDgsICJwYXJ0aWNpcGFudHMiOiBbIkFOQSBCRVRBTkNFUyIsICJBTkEgS0FSSU5BICBNT1JFTk8gQkVUQU5DRVMiLCAiQU5EWSBST0RSSUdVRVoiLCAiQ2FtaWxhIFJvZHJpZ3VleiIsICJFTFNBIEJFVEFOQ0VTIiwgIk1BUkFIIEdVWk1BTiIsICJTT1BISUEgR1VaTUFOIiwgIlZBTEVOVElOQSAgUk9EUklHVUVaIl19LCB7ImlkIjogIjE1NjY2MDIwMjE2NjAyNjAiLCAidGl0dWxhciI6ICJESUxDSUEgRElBWiIsICJudW1fcGVvcGxlIjogMywgInBhcnRpY2lwYW50cyI6IFsiRElMQ0lBIERJQVoiLCAiTUFERUxFSU5FIEJBUklBIiwgIk1BUklMRVlTSSBSQU1JUkVaIl19LCB7ImlkIjogIjE1NjY2MDIwMjM2NjI1OTYiLCAidGl0dWxhciI6ICJMYXVyaWUgIFBpdHRzIiwgIm51bV9wZW9wbGUiOiAyLCAicGFydGljaXBhbnRzIjogWyJFcmljIEJlYXZlciIsICJMYXVyaWUgIFBpdHRzIl19LCB7ImlkIjogIjE1NjY2MDIwNDk3MjIxNjYiLCAidGl0dWxhciI6ICJoYXNhZWwgRXNwaW5hbCIsICJudW1fcGVvcGxlIjogNCwgInBhcnRpY2lwYW50cyI6IFsiRWxpYWggRXNwaW5hbCIsICJoYXNhZWwgRXNwaW5hbCIsICJJc2FpYWggRXNwaW5hbCIsICJLYXRoZXJpbmUgQ2VkYW5vIl19LCB7ImlkIjogIjE1NjY2MDIwNTUwMDQ1NDAiLCAidGl0dWxhciI6ICJZb3ljZSBDZWRhbm8iLCAibnVtX3Blb3BsZSI6IDQsICJwYXJ0aWNpcGFudHMiOiBbIkFyYW1pbCAgQm9uaWxsYSIsICJGZWxpcGUgQm9uaWxsYSIsICJHaWFuZnJhbmNvICBCb25pbGxhIiwgIllveWNlIENlZGFubyJdfSwgeyJpZCI6ICIxNTY2NjAyMDYxMTA5MTI2IiwgInRpdHVsYXIiOiAiRXN0ZWZhbnkgTWVyY2VkZXMiLCAibnVtX3Blb3BsZSI6IDUsICJwYXJ0aWNpcGFudHMiOiBbIkVSTkVTVE8gREUgSkVTVVMiLCAiRXN0ZWZhbnkgTWVyY2VkZXMiLCAiTUFJQSBERSBKRVNVUyAgTUVSQ0VERVMiLCAiTUFUSUFTIERFIEpFU1VTICBNRVJDRURFUyIsICJNSUxBIERFIEpFU1VTICBNRVJDRURFUyJdfSwgeyJpZCI6ICIxNTY2NjAyMDYyMTM2NDY1IiwgInRpdHVsYXIiOiAiTmF0YWxpYSBDYXphbm8iLCAibnVtX3Blb3BsZSI6IDgsICJwYXJ0aWNpcGFudHMiOiBbIkFiaWdhaWwgSGVyblx1MDBlMW5kZXoiLCAiQ2FybG9zIExvYWNlcyIsICJDaW5keSBDb3Jwb3JhbiIsICJFZHVhcmRvIEhlcm5cdTAwZTFuZGV6IiwgIkdhZGFsIExvYWNlcyIsICJHYWVsIExvYWNlcyIsICJKaG9zeSBIZXJuXHUwMGUxbmRleiIsICJOYXRhbGlhIENhemFubyJdfSwgeyJpZCI6ICIxNTY2NjAyMDYzMDEyOTQ4IiwgInRpdHVsYXIiOiAiQ2hyaXN0YWwgQ3J1eiIsICJudW1fcGVvcGxlIjogNSwgInBhcnRpY2lwYW50cyI6IFsiQ2hyaXN0YWwgQ3J1eiIsICJHdXN0YXZvIEVucmlxdWUgU29jaWFzIiwgIk1hcmxvbiBBbmRyZXMgIFNvY2lhcyIsICJNYXJsb24gQXVndXN0byBTb2NpYXMiLCAiUmF5c2EgQ2Fyb2xpbmEgIEhlcm5hbmRleiJdfSwgeyJpZCI6ICIxNTY2NjAyMDY4MDUzODgyIiwgInRpdHVsYXIiOiAiTWFyY2lhIFNpbW9lcyIsICJudW1fcGVvcGxlIjogMiwgInBhcnRpY2lwYW50cyI6IFsiTWFyY2lhIFNpbW9lcyIsICJOaWNvbGFzICBCcnVubyBTaW1vZXMiXX0sIHsiaWQiOiAiMTU2NjYwMjA3MzkwODE0NSIsICJ0aXR1bGFyIjogIkFsZXhhbmRlciBDYWJyYWwiLCAibnVtX3Blb3BsZSI6IDgsICJwYXJ0aWNpcGFudHMiOiBbIkFsZXhhbmRlciBDYWJyYWwiLCAiQWxtaWwgQ2FicmFsIiwgIkF4ZWwgQ2FicmFsIiwgIkxhdXJhIEd1ZXJyZXJvIiwgIk1hdXJpY2lvIENhYnJhbCIsICJNaWxkcmVkIFJleWVzIiwgIlJhZmFlbCBNZWRpbmEiLCAiU0FSQUggTUVESU5BIl19LCB7ImlkIjogIjE1NjY2MDIwODEzNzY3ODAiLCAidGl0dWxhciI6ICJKb2huIE1hcnRpbmV6IEdvbWV6IiwgIm51bV9wZW9wbGUiOiA2LCAicGFydGljaXBhbnRzIjogWyJKYWVsIEFudGhvbnkgTWFydGluZXogSGVybmFuZGV6IiwgIkpvaG4gTWFydGluZXogR29tZXoiLCAiSm9zZSBBbGJlcnRvIE1hcnRpbmV6IE9yb3pjbyIsICJLeWFuYSBZYW5lbGlzIE1hcnRpbmV6IEhlcm5hbmRleiIsICJNYXlyYSBHb21leiIsICJZYWhhaXJhIEhlcm5hbmRleiBNb3Jlbm8iXX0sIHsiaWQiOiAiMTU2NjYwMjA4NjU3MDA4NSIsICJ0aXR1bGFyIjogImFuZHJlcyBtZW5hIG1lbmEgZGUgbGEgcm9zYSIsICJudW1fcGVvcGxlIjogNCwgInBhcnRpY2lwYW50cyI6IFsiYW5kcmVzIG1lbmEgbWVuYSBkZSBsYSByb3NhIiwgImphaW1lICBtZW5hIiwgImplc3NpY2EgIGFkYW1lcyIsICJtaXNhZWwgIG1lbmEiXX0sIHsiaWQiOiAiMTU2NjYwMjA5NTQ4MzUyMyIsICJ0aXR1bGFyIjogIkdlcm1hcmkgUm9zYXJpbyBab3JyaWxsYSIsICJudW1fcGVvcGxlIjogMSwgInBhcnRpY2lwYW50cyI6IFsiR2VybWFyaSBSb3NhcmlvIFpvcnJpbGxhIl19LCB7ImlkIjogIjE1NjY2MDIwOTcxMDk3NTAiLCAidGl0dWxhciI6ICJKYW5ldCBhYnJldSBkZSBEZXNhbmdsZXMiLCAibnVtX3Blb3BsZSI6IDQsICJwYXJ0aWNpcGFudHMiOiBbIkFsYmVydCAgQXF1aW5vIiwgIkxhZGR5IEJlcnJvYSIsICJMYWRkeSBCZXJyb2EgKDIpIiwgIk1hcmlhIEZhYmlhbiJdfSwgeyJpZCI6ICIxNTY2NjAyMTA2OTE5OTAxIiwgInRpdHVsYXIiOiAiTWVnYW4gTGF2ZXJnbmUiLCAibnVtX3Blb3BsZSI6IDMsICJwYXJ0aWNpcGFudHMiOiBbIk1lZ2FuIExhdmVyZ25lIiwgIk1lbGlzc2EgTGF2ZXJnbmUiLCAiTWVsaXNzYSBNaWxsZXIiXX0sIHsiaWQiOiAiMTU2NjYwMjExNzM3NTI3MiIsICJ0aXR1bGFyIjogIlN0ZXBoYW5pZSBXaWxsaWFtcyIsICJudW1fcGVvcGxlIjogMiwgInBhcnRpY2lwYW50cyI6IFsiTWVsYW5pZSBXaWxsaWFtcyIsICJTdGVwaGFuaWUgV2lsbGlhbXMiXX0sIHsiaWQiOiAiMTU2NjYwMjExNzYwMjQ3MiIsICJ0aXR1bGFyIjogIk5pY29sZSBTYW50YW5hIiwgIm51bV9wZW9wbGUiOiAyLCAicGFydGljaXBhbnRzIjogWyJKYXZpZXIgR2FycmlkbyIsICJOaWNvbGUgU2FudGFuYSJdfSwgeyJpZCI6ICIxNTY2NjAyMTE5MTk5Mzg0IiwgInRpdHVsYXIiOiAiUm9zaWJlbGxlIEFicmV1IiwgIm51bV9wZW9wbGUiOiAxLCAicGFydGljaXBhbnRzIjogWyJSb3NpYmVsbGUgQWJyZXUiXX0sIHsiaWQiOiAiMTU2NjYwMjEyOTM3OTI5OSIsICJ0aXR1bGFyIjogIkdhYnJpZWxhIEd1aXphciBjb3V0aVx1MDBmMW8iLCAibnVtX3Blb3BsZSI6IDQsICJwYXJ0aWNpcGFudHMiOiBbIkdhYnJpZWxhIEd1aXphciBjb3V0aVx1MDBmMW8iLCAiR3JlZ29yeSAgQXF1aW5vIG51XHUwMGYxZXoiLCAiR3JlaXNzeSAgQXF1aW5vIGNlYmFsbG9zIiwgIkdyZXRoZWwgIEFxdWlubyBndWl6YXIiXX0sIHsiaWQiOiAiMTU2NjYwMjEzMTEyNDg1NiIsICJ0aXR1bGFyIjogIllvc21haXJ5ICBDYXN0YW5vIiwgIm51bV9wZW9wbGUiOiAxLCAicGFydGljaXBhbnRzIjogWyJKb3JkYW55ICBOdW5leiJdfSwgeyJpZCI6ICIxNTY2NjAyMTMxNjU1NDMxIiwgInRpdHVsYXIiOiAiTWFyaW5vIEdhcmNpYSIsICJudW1fcGVvcGxlIjogNSwgInBhcnRpY2lwYW50cyI6IFsiQ2FyaWRhZCBHYXJjaWEiLCAiRWxpc2EgIFNhbmNoZXoiLCAiSXNhYmVsbGEgU2FuY2hleiIsICJMdWlzICBTYW5jaGV6IiwgIk1hcmlubyBHYXJjaWEiXX0sIHsiaWQiOiAiMTU2NjYwMjEzMTY3MTY3NyIsICJ0aXR1bGFyIjogIkFORFJZIE1BQkVMIERFIEFaQSBDQVNUUk8iLCAibnVtX3Blb3BsZSI6IDgsICJwYXJ0aWNpcGFudHMiOiBbIkFORFJZIE1BQkVMIERFIEFaQSBDQVNUUk8iLCAiQkVSS1lTIFRJTkVPIiwgIkVTTUlMRFJZIEFSTEVOSVMgSklNRU5FWiIsICJKb3NlIGFuZHJlcyAgR2VybW9zbyBUaW5lbyIsICJKb3NcdTAwZTkgQW5kclx1MDBlOXMgIEdlcm1vc28gVmFyZ2FzIiwgIkpVQU4gRlJBTkNJU0NPIEdPTlpBTEVaIiwgIk1pZ3VlbCBBbmdlbCBHYW1leiIsICJZdW55IEFkcmlhbmEgT3J0ZWdhIl19LCB7ImlkIjogIjE1NjY2MDIxMzIzNjQyMTMiLCAidGl0dWxhciI6ICJBTkRSWSBNQUJFTCBERSBBWkEgQ0FTVFJPIiwgIm51bV9wZW9wbGUiOiA4LCAicGFydGljaXBhbnRzIjogWyJBbGVqYW5kcm8gUGFleiIsICJKb3NlIE1pY2hhZWwgRmVsaXBlIiwgIk1hclx1MDBlZGEgQWx0YWdyYWNpYSBEaWF6IiwgIk1hclx1MDBlZGEgSWRhbGlhIEZlbGlwZSIsICJNaWNoYWVsIE1pZ3VlbCAgRmVsaXBlIiwgIlJhbW9uICBQYWV6IiwgIlZlcmEgICBQYWV6IiwgIlZlcm9uaWNhIENhc3RlbGxhbm9zIl19LCB7ImlkIjogIjE1NjY2MDIxMzMzMTQ5NTYiLCAidGl0dWxhciI6ICJKb3NlIFBlcmV5cmEiLCAibnVtX3Blb3BsZSI6IDIsICJwYXJ0aWNpcGFudHMiOiBbIkpvc2UgUGVyZXlyYSIsICJTaWx2aWEgUmlzayJdfSwgeyJpZCI6ICIxNTY2NjAyMTMzNDY2MDY2IiwgInRpdHVsYXIiOiAiV2lsYmVyIFJlYWQiLCAibnVtX3Blb3BsZSI6IDQsICJwYXJ0aWNpcGFudHMiOiBbIkR5bGFuICBSZWFkIiwgIkxpbnkgRmVyblx1MDBlMW5kZXoiLCAiTWF0aGlhcyBSZWFkIiwgIldpbGJlciBSZWFkIl19LCB7ImlkIjogIjE1NjY2MDIxMzM1MjM2MjUiLCAidGl0dWxhciI6ICJKZW5ueSBBcmlzdHkiLCAibnVtX3Blb3BsZSI6IDUsICJwYXJ0aWNpcGFudHMiOiBbIkplbm55IEFyaXN0eSIsICJKZW5ueSBBcmlzdHkgKDIpIiwgIkplbm55ICBBcmlzdHkgKDMpIiwgIkplbm55ICBBcmlzdHkgKDQpIiwgIkplbm55ICBBcmlzdHkgKDUpIl19LCB7ImlkIjogIjE1NjY2MDIxMzQxOTAxNTQiLCAidGl0dWxhciI6ICJNYXJpYSBFdWdlbmlhIFBlcmV5cmEiLCAibnVtX3Blb3BsZSI6IDUsICJwYXJ0aWNpcGFudHMiOiBbIkF1cm9yYSBUYXZlcmFzIiwgIk1hcmlhIEV1Z2VuaWEgUGVyZXlyYSIsICJNYXRpbGRhIFRhdmVyYXMiLCAiUmFmYWVsIFRhdmVyYXMiLCAiVG9tYXMgVGF2ZXJhcyJdfSwgeyJpZCI6ICIxNTY2NjAyMTM0NzM3NjU1IiwgInRpdHVsYXIiOiAiQ2VzYXIgTWlndWVsIFJvZHJcdTAwZWRndWV6IEF2aWxhIiwgIm51bV9wZW9wbGUiOiAzLCAicGFydGljaXBhbnRzIjogWyJDZXNhciBNaWd1ZWwgUm9kclx1MDBlZGd1ZXogQXZpbGEiLCAiRW1pbCBBbGVqYW5kcm8gIFNpbHZlc3RyZSIsICJZdWxpbmEgQS4gIERlIExhIFJvc2EgIFMuIl19LCB7ImlkIjogIjE1NjY2MDIxMzUxNjcxMDMiLCAidGl0dWxhciI6ICJNYXJpYSBFc3RlbGEgUGVyZXoiLCAibnVtX3Blb3BsZSI6IDgsICJwYXJ0aWNpcGFudHMiOiBbIkFudG9uaW8gIFBlcmV6IiwgIkFudG9uaW8gIFBlcmV6ICgyKSIsICJLZXBhICBCYXNhYmUiLCAiTWFyaWEgRXN0ZWxhIFBlcmV6IiwgIk5haWEgQmFzYWJlIiwgIlBhdWxhICBGb3Jlcm8iLCAiUGF1bGEgR2FydmlhIiwgIlZpY3RvciBNYW51ZWwgIEdhcnZpYSJdfSwgeyJpZCI6ICIxNTY2NjAyMTM1NjgzMjAxIiwgInRpdHVsYXIiOiAiT05FTEJJQSBGRVJNSU4iLCAibnVtX3Blb3BsZSI6IDUsICJwYXJ0aWNpcGFudHMiOiBbIkplbm5pZmVyIFJleW5vc28iLCAiTGlhIFBhdHhvdCIsICJMb3JlbmEgUGF0eG90IiwgIk9ORUxCSUEgRkVSTUlOIiwgIk9zY2FyIFBhdHhvdCJdfSwgeyJpZCI6ICIxNTY2NjAyMTM1OTcxNzE5IiwgInRpdHVsYXIiOiAiV2lsYmVyIERlIExhIFJvc2EiLCAibnVtX3Blb3BsZSI6IDEsICJwYXJ0aWNpcGFudHMiOiBbIldpbGJlciBEZSBMYSBSb3NhIl19LCB7ImlkIjogIjE1NjY2MDIxMzg4NTQ2OTQiLCAidGl0dWxhciI6ICJLYXRlcnluYSBEZSBMb3MgU2FudG9zIiwgIm51bV9wZW9wbGUiOiA0LCAicGFydGljaXBhbnRzIjogWyJBcmlhbmEgRGUgTG9zIFNhbnRvcyIsICJLYXRlcnluYSBEZSBMb3MgU2FudG9zIiwgIlNhYnJpbmEgRGUgTG9zIFNhbnRvcyIsICJZb2hhbiBEZSBMb3MgU2FudG9zIl19LCB7ImlkIjogIjE1NjY2MDIxMzkwNTkyNDUiLCAidGl0dWxhciI6ICJFZHVhcmRvIFN1YXJleiIsICJudW1fcGVvcGxlIjogNiwgInBhcnRpY2lwYW50cyI6IFsiQWxhbmEgIEhlcm5hbmRleiIsICJBeWxpbiBIdW5nIiwgIkF5bGluIFN1YXJleiIsICJFZHVhcmRvIFN1YXJleiIsICJGZWxpcGUgSGVybmFuZGV6IiwgIkpoYW5pZWwgSGVybmFuZGV6Il19LCB7ImlkIjogIjE1NjY2MDIxMzk0Mzg0MDkiLCAidGl0dWxhciI6ICJZb3NtYWlyeSAgQ2FzdGFubyIsICJudW1fcGVvcGxlIjogNCwgInBhcnRpY2lwYW50cyI6IFsiQ2Fyb2xheSAgUGVyZXoiLCAiSm9yZGFseSAgTnVcdTAwZjFleiIsICJSYXluZXIgIE96dW5hIiwgIllvc21haXJ5ICBDYXN0YW5vIl19LCB7ImlkIjogIjE1NjY2MDIxNDExMDc2MjIiLCAidGl0dWxhciI6ICJDYXJvbGluYSBNYXJjaGkiLCAibnVtX3Blb3BsZSI6IDEsICJwYXJ0aWNpcGFudHMiOiBbIkNhcm9saW5hIE1hcmNoaSJdfSwgeyJpZCI6ICIxNTY2NjAyMTQxMTcwMTUxIiwgInRpdHVsYXIiOiAiTWFyY2VsYSBHb256YWxleiIsICJudW1fcGVvcGxlIjogMywgInBhcnRpY2lwYW50cyI6IFsiS2F0aGVyaW5lIEdhbHZleiIsICJMYXVyYSBFc3RlcGEiLCAiTWFyY2VsYSBHb256YWxleiJdfSwgeyJpZCI6ICIxNTY2NjAyMTQyMTA2NDg1IiwgInRpdHVsYXIiOiAiRXJuZXN0byBPbmF0ZSIsICJudW1fcGVvcGxlIjogNSwgInBhcnRpY2lwYW50cyI6IFsiQWxlamFuZHJvIFRvcnJlcyIsICJBbmRyZWEgRmVybmFuZGV6IiwgIkRhbmllbGEgQWx0YW1pcmFubyIsICJFcm5lc3RvIE9uYXRlIiwgIkxhdXJhIE1vbHBlY2VyZXMiXX0sIHsiaWQiOiAiMTU2NjYwMjE0MjE2ODcwNSIsICJ0aXR1bGFyIjogIkFucyBEaWF6IiwgIm51bV9wZW9wbGUiOiAzLCAicGFydGljaXBhbnRzIjogWyJBbnMgRGlheiIsICJjb3NzZXR0ZSAgaHVydGFkbyIsICJzYW5kcmEgc290byJdfSwgeyJpZCI6ICIxNTY2NjAyMTQyNDkwNzQxIiwgInRpdHVsYXIiOiAiQW5hIENlY2lsaWEgUGVyZXoiLCAibnVtX3Blb3BsZSI6IDQsICJwYXJ0aWNpcGFudHMiOiBbIkFuYSBDZWNpbGlhIFBlcmV6IiwgIkRpZWdvIEhpZGFsZ28iLCAiRWxzYSAgUFx1MDBlOXJleiIsICJWaW5pY2lvIEJcdTAwZTFleiJdfSwgeyJpZCI6ICIxNTY2NjAyMTQyNzc1NTg4IiwgInRpdHVsYXIiOiAiV2lsbWEgdmVybmFsaXNpcyBHYXJjaWEgcGVcdTAwZjFhIiwgIm51bV9wZW9wbGUiOiAyLCAicGFydGljaXBhbnRzIjogWyJBc2hsZXkgIEdhcmNpYSIsICJXaWxtYSB2ZXJuYWxpc2lzIEdhcmNpYSBwZVx1MDBmMWEiXX0sIHsiaWQiOiAiMTU2NjYwMjE0MzQ5MzgzOCIsICJ0aXR1bGFyIjogIk1hcmlhIEVzdGV2ZXoiLCAibnVtX3Blb3BsZSI6IDMsICJwYXJ0aWNpcGFudHMiOiBbIkxhaWxhIEFvdWdoYW5lIiwgIk1hZ2ljIEFvdWdoYW5lIiwgIk1hcmlhIEVzdGV2ZXoiXX0sIHsiaWQiOiAiMTU2NjYwMjE0MzczOTYwMyIsICJ0aXR1bGFyIjogIkhlcm1hbml0byBGYWxvdXRlIiwgIm51bV9wZW9wbGUiOiAyLCAicGFydGljaXBhbnRzIjogWyJIZXJtYW5pdG8gRmFsb3V0ZSIsICJQYXVsYSBWYXNxdWV6Il19LCB7ImlkIjogIjE1NjY2MDIxNDQ1NTg1OTIiLCAidGl0dWxhciI6ICJEZW5ueSBNaW5ndWV6IiwgIm51bV9wZW9wbGUiOiA0LCAicGFydGljaXBhbnRzIjogWyJFc3RlZmFubyBEIiwgIkphbmRyZWx5cyBTYW5jaGV6IiwgIkxlYW5kcm8gTWluZ3VleiIsICJMZWFuZHJvICBNaW5ndWV6IEhlcnJlcmEiXX0sIHsiaWQiOiAiMTU2NjYwMjE0NjgzOTMxMCIsICJ0aXR1bGFyIjogIlNoZWVsYSBQYXJsYXZlY2NoaWEiLCAibnVtX3Blb3BsZSI6IDIsICJwYXJ0aWNpcGFudHMiOiBbIkVtaWwgQWxjYW50YXJhIiwgIlNoZWVsYSBQYXJsYXZlY2NoaWEiXX0sIHsiaWQiOiAiMTU2NjYwMjE0ODA2NzEyMyIsICJ0aXR1bGFyIjogIkNhcmxvcyBDdWV0byIsICJudW1fcGVvcGxlIjogNSwgInBhcnRpY2lwYW50cyI6IFsiQ2FybG9zIEN1ZXRvIiwgIkRpZWdvICBDdWV0byIsICJJc2FiZWxsYSBDdWV0byIsICJNYXRpYXMgIEN1ZXRvIiwgIllhamFpcmEgIFNhbmNoZXoiXX0sIHsiaWQiOiAiMTU2NjYwMjE0ODA5NjA3NCIsICJ0aXR1bGFyIjogIkVucmlxdWUgQXZpbGV6IGpveW8iLCAibnVtX3Blb3BsZSI6IDIsICJwYXJ0aWNpcGFudHMiOiBbIkVucmlxdWUgQXZpbGV6IGpveW8iLCAiSmFtZXMgSGF3a2lucyJdfSwgeyJpZCI6ICIxNTY2NjAyMTQ5MTIyODU2IiwgInRpdHVsYXIiOiAiS2F0aWEgR29tZXoiLCAibnVtX3Blb3BsZSI6IDcsICJwYXJ0aWNpcGFudHMiOiBbIkthdGlhIEdvbWV6IiwgIkxpZXRlciBQdWNoIiwgIk1pZ3VlbGluYSAgSGVybmFuZGV6IiwgIk1pcmlhbiAgQ2FjZXJlcyIsICJSb3NhIG1pbGRyZWQgU2lyaSIsICJUYW5pYSAgTW9saW5hIiwgIlphaXJhIEdpcm91ZCJdfSwgeyJpZCI6ICIxNTY2NjAyMTQ5NTI5MjI4IiwgInRpdHVsYXIiOiAiQWlkZWQgQ2ViYWxsbyIsICJudW1fcGVvcGxlIjogOCwgInBhcnRpY2lwYW50cyI6IFsiQWlkZWQgQ2ViYWxsbyIsICJBaWRlZCBTaWxmYSIsICJBdGVuYXMgIENlYmFsbG8iLCAiZGFoaWFuYSBjZWJhbGxvcyIsICJEYW5pZWxhICBTaWxsaGgiLCAianVhbiBzaWxmYSIsICJqdW5pb3IgbWVqaWEiLCAic2FyYSBsdWNpbGlhIl19LCB7ImlkIjogIjE1NjY2MDIxNDk5NDY5NTYiLCAidGl0dWxhciI6ICJKb2hhbmEgU2FybWllbnRvIiwgIm51bV9wZW9wbGUiOiAzLCAicGFydGljaXBhbnRzIjogWyJDcmlzdGlhbiBSb21lcm8iLCAiRWRpdGggRGlheiIsICJKb2hhbmEgU2FybWllbnRvIl19LCB7ImlkIjogIjE1NjY2MDIxNTEyMTYwODQiLCAidGl0dWxhciI6ICJNYXJqb3JpZSBQYXN0cmFuIiwgIm51bV9wZW9wbGUiOiA0LCAicGFydGljaXBhbnRzIjogWyJGZWRlcmljbyAgTnVcdTAwZjFleiIsICJLYXRsZW4gIFJpdmVybyIsICJMdXogIFJpZXJhIiwgIk1hcmpvcmllIFBhc3RyYW4iXX0sIHsiaWQiOiAiMTU2NjYwMjE1MTk3ODc3MiIsICJ0aXR1bGFyIjogIkFuZHJlcyBNb25kcmFnb24iLCAibnVtX3Blb3BsZSI6IDgsICJwYXJ0aWNpcGFudHMiOiBbIkFuZHJlcyBNb25kcmFnb24iLCAiQW5kcmVzJ3MgLSBQYXJ0aWNpcGFudCAjMSIsICJBbmRyZXMncyAtIFBhcnRpY2lwYW50ICMyIiwgIkFuZHJlcydzIC0gUGFydGljaXBhbnQgIzMiLCAiQW5kcmVzJ3MgLSBQYXJ0aWNpcGFudCAjNCIsICJBbmRyZXMncyAtIFBhcnRpY2lwYW50ICM1IiwgIkFuZHJlcydzIC0gUGFydGljaXBhbnQgIzYiLCAiQW5kcmVzJ3MgLSBQYXJ0aWNpcGFudCAjNyJdfSwgeyJpZCI6ICIxNTY2NjAyMTUyMTgzMzMwIiwgInRpdHVsYXIiOiAiUm9zc2kgeWFuZWxpcyBHb256YWxleiBudVx1MDBmMWV6IiwgIm51bV9wZW9wbGUiOiAzLCAicGFydGljaXBhbnRzIjogWyJCZW5qYW1pbiBDYXN0aWxsbyBHb256YWxleiIsICJCZW5ueSBDYXN0aWxsbyBjYXN0aWxsbyIsICJSb3NzaSB5YW5lbGlzIEdvbnphbGV6IG51XHUwMGYxZXoiXX0sIHsiaWQiOiAiMTU2NjYwMjE1Mjc4Mjc1NSIsICJ0aXR1bGFyIjogIk5pbHkgR3VlcnJlcm8iLCAibnVtX3Blb3BsZSI6IDUsICJwYXJ0aWNpcGFudHMiOiBbIkFuZ1x1MDBlOWxpY2EgIEFtcGFybyIsICJNYXJpYW4gIENhcnBpbyIsICJNYXJpYW5vICBDYWxjYVx1MDBmMW8iLCAiTmlseSBHdWVycmVybyIsICJZYW5ueSAgU1x1MDBlMW5jaGV6Il19LCB7ImlkIjogIjE1NjY2MDIxNTMyMzc1MDciLCAidGl0dWxhciI6ICJMYXVyYSBRdWlcdTAwZjFvbmVzIiwgIm51bV9wZW9wbGUiOiAzLCAicGFydGljaXBhbnRzIjogWyJKZXNzaWNhICBBbWFyYW50ZSIsICJMYXVyYSBRdWlcdTAwZjFvbmVzIiwgIk1hcnkgQW1hcmFudGUiXX0sIHsiaWQiOiAiMTU2NjYwMjE1NDAyODc2OCIsICJ0aXR1bGFyIjogIk9zY2FyIFNhbHZhZG9yICBHdWVycmVybyBNYXJ0aW5leiIsICJudW1fcGVvcGxlIjogMiwgInBhcnRpY2lwYW50cyI6IFsiTWFyaWEgRmVybmFuZGEgIE11XHUwMGYxb3ogQ2FyZG9uYSIsICJPc2NhciBTYWx2YWRvciAgR3VlcnJlcm8gTWFydGluZXoiXX0sIHsiaWQiOiAiMTU2NjYwMjE1NDQ4Nzc3MCIsICJ0aXR1bGFyIjogIkRhbGlhIFpvcnJpbGxhIiwgIm51bV9wZW9wbGUiOiAyLCAicGFydGljaXBhbnRzIjogWyJKYWltZSBEdWNvaW5nIiwgIlZlcm9uaWNhIFphbWJyYW5vIl19LCB7ImlkIjogIjE1NjY2MDIxNTQ3MzE2MjIiLCAidGl0dWxhciI6ICJDZWxlbmlhIFJvZHJpZ3VleiIsICJudW1fcGVvcGxlIjogNCwgInBhcnRpY2lwYW50cyI6IFsiQ2FybG9zICBDb2xsYWRvIiwgIkNlbGVuaWEgUm9kcmlndWV6IiwgIkphdmllciAgQ29sbGFkbyIsICJNYXJpYSBqb3NlIENvbGxhZG8iXX0sIHsiaWQiOiAiMTU2NjYwMjE1NTE1NjQ4NiIsICJ0aXR1bGFyIjogIkthbWlsYSBDYXN0aWxsbyIsICJudW1fcGVvcGxlIjogMywgInBhcnRpY2lwYW50cyI6IFsiQWxleGEgIERpZXRzY2giLCAiQ2FybGEgRGlldHNjaCIsICJLYW1pbGEgQ2FzdGlsbG8iXX0sIHsiaWQiOiAiMTU2NjYwMjE1NTE2NDk4MyIsICJ0aXR1bGFyIjogIkx1aXMgR2FycmlkbyIsICJudW1fcGVvcGxlIjogMywgInBhcnRpY2lwYW50cyI6IFsiRW56byBHYXJyaWRvIiwgIkx1aXMgR2FycmlkbyIsICJMdWlzYSAgQ2FzdGlsbG8iXX0sIHsiaWQiOiAiMTU2NjYwMjE1NTI1OTI0OCIsICJ0aXR1bGFyIjogIkFuZ2VsIExlYWwiLCAibnVtX3Blb3BsZSI6IDUsICJwYXJ0aWNpcGFudHMiOiBbIkFuZ2VsIExlYWwiLCAiRnJhbmNpc2NvIFJvY2hlIiwgIkdlb3JnZSBNYXJrZXIiLCAiS2F0aGVyaW5lIFZpZXJuZXMiLCAiVmFsZW50aW5hIERpYXoiXX0sIHsiaWQiOiAiMTU2NjYwMjE1NjY0MzE4NyIsICJ0aXR1bGFyIjogIlJ1YmVuIFNhbnRhbmEiLCAibnVtX3Blb3BsZSI6IDUsICJwYXJ0aWNpcGFudHMiOiBbIkFpc2hhICBTYW50YW5hIiwgIkFtYmFyICBTYW50YW5hIiwgIkZpb3JkYWxpemEgIFJpdmVyYSIsICJMaWEgIFNhbnRhbmEiLCAiUnViZW4gU2FudGFuYSJdfSwgeyJpZCI6ICIxNTY2NjAyMTU2NjY3MTM3IiwgInRpdHVsYXIiOiAiQW5nZWxhIE1hcmlhIE1vcmEgQ29ycmVhIiwgIm51bV9wZW9wbGUiOiAyLCAicGFydGljaXBhbnRzIjogWyJBbmdlbGEgTWFyaWEgTW9yYSBDb3JyZWEiLCAiSXNhYmVsbGEgTGFzc28gTW9yYSJdfSwgeyJpZCI6ICIxNTY2NjAyMTU3MzA4MzMyIiwgInRpdHVsYXIiOiAiWWVybGluIE9ydGl6IiwgIm51bV9wZW9wbGUiOiAyLCAicGFydGljaXBhbnRzIjogWyJNYXJpc29sICBQZVx1MDBmMWEiLCAiWWVybGluIE9ydGl6Il19LCB7ImlkIjogIjE1NjY2MDIxNTkyMzUxMjkiLCAidGl0dWxhciI6ICJZYW5pcnkgVmFyZ2FzIiwgIm51bV9wZW9wbGUiOiA2LCAicGFydGljaXBhbnRzIjogWyJBbnRvbmVsbGEgU2Jyb2dpbyIsICJGaW9yZWxsYSBTYnJvZ2lvIiwgIkdpb3Zhbm5pIFNicm9naW8iLCAiSmF6bWluICBWYXJnYXMiLCAiTW9pc2VzIFZhcmdhcyIsICJZYW5pcnkgVmFyZ2FzIl19LCB7ImlkIjogIjE1NjY2MDIxNTkyNTY1NTYiLCAidGl0dWxhciI6ICJEYWxpYSBab3JyaWxsYSIsICJudW1fcGVvcGxlIjogMywgInBhcnRpY2lwYW50cyI6IFsiRGFsaWEgWm9ycmlsbGEiLCAiR2VydHJ1ZGUgIEV1Z2VuZSIsICJSaWNhcmRvIFpvcnJpbGxhIl19LCB7ImlkIjogIjE1NjY2MDIxNjEzNzQwNzYiLCAidGl0dWxhciI6ICJZb21hcmEgU1x1MDBlMW5jaGV6IiwgIm51bV9wZW9wbGUiOiAyLCAicGFydGljaXBhbnRzIjogWyJDaHJpc3RvcGhlciAgSmF2aWVyIiwgIlNvcGhpYSBVcmJhZXoiXX0sIHsiaWQiOiAiMTU2NjYwMjE2Mjc5ODcwMyIsICJ0aXR1bGFyIjogIk1pZ3VlbCBSb2RyaWd1ZXoiLCAibnVtX3Blb3BsZSI6IDIsICJwYXJ0aWNpcGFudHMiOiBbIkthcmxpbmEgRGFsbWF1IiwgIk1pZ3VlbCBSb2RyaWd1ZXoiXX0sIHsiaWQiOiAiMTU2NjYwMjE2MjgyMTU2OCIsICJ0aXR1bGFyIjogIk1haWtlbCAgTWlsZm9yZCIsICJudW1fcGVvcGxlIjogMSwgInBhcnRpY2lwYW50cyI6IFsiTWFpa2VsICBNaWxmb3JkIl19LCB7ImlkIjogIjE1NjY2MDIxNjMwOTUzOTkiLCAidGl0dWxhciI6ICJFc3RoZXIgUGFleiIsICJudW1fcGVvcGxlIjogNSwgInBhcnRpY2lwYW50cyI6IFsiRXN0aGVyIFBhZXoiLCAiSXZhbiBQaWNoYXJkbyIsICJJdmFuIEFuaWJhbCBQaWNoYXJkbyIsICJMaWxpYW5hIFBhcmVkZXMiLCAiTWlhIFZhbGVyaWEgUGljaGFyZG8iXX0sIHsiaWQiOiAiMTU2NjYwMjE2MzEwMTcyNSIsICJ0aXR1bGFyIjogIlllbmlyaXMgQmV0YW5jb3VydCIsICJudW1fcGVvcGxlIjogNSwgInBhcnRpY2lwYW50cyI6IFsiQWRoZWx5cyBCYXJyYWRlcyIsICJOZWhvbWFyICBGbG9yZXMiLCAiVHJpY3N5IENhc2FyZXMiLCAiWWVuZnJ5ICBJc2N1bHBlIiwgIlllbmlyaXMgQmV0YW5jb3VydCJdfSwgeyJpZCI6ICIxNTY2NjAyMTY0MTgzMTQ1IiwgInRpdHVsYXIiOiAiSGVjdG9yIERvbmF0ZSIsICJudW1fcGVvcGxlIjogNCwgInBhcnRpY2lwYW50cyI6IFsiSGVjdG9yIERvbmF0ZSIsICJLYXJlbGlzICBHYXJjaWEiLCAiS2FybGlzIEdhcmNpYSIsICJQYWJsbyAgUmVjdWVuY28iXX0sIHsiaWQiOiAiMTU2NjYwMjE2NDQxMTI2NCIsICJ0aXR1bGFyIjogIlJhaGVsaSBTYW50YW5hIFNhbmNoZXoiLCAibnVtX3Blb3BsZSI6IDIsICJwYXJ0aWNpcGFudHMiOiBbIkhlbGVuaXphIFNhbmNoZXogY2FicmVyYSIsICJSYWhlbGkgU2FudGFuYSBTYW5jaGV6Il19LCB7ImlkIjogIjE1NjY2MDIxNjUwMDkxNTMiLCAidGl0dWxhciI6ICJNYXIgUGVcdTAwZjFhIiwgIm51bV9wZW9wbGUiOiAzLCAicGFydGljaXBhbnRzIjogWyJGYXRpbWEgIFBlXHUwMGYxYSIsICJKYWRlIEppbWVuZXogcGVcdTAwZjFhIiwgIk1hciBQZVx1MDBmMWEiXX0sIHsiaWQiOiAiMTU2NjYwMjE2NTMxODExOCIsICJ0aXR1bGFyIjogIlNIQURFWSBTT1JJQU5OWSBQRVJFWiIsICJudW1fcGVvcGxlIjogMiwgInBhcnRpY2lwYW50cyI6IFsiQVJBSkVUIDEwIiwgIkFSQUpFVCAgOSJdfSwgeyJpZCI6ICIxNTY2NjAyMTY1OTkzMjA5IiwgInRpdHVsYXIiOiAiTGVuYSBTb3BoaWEgRGVpbmluZ2VyIiwgIm51bV9wZW9wbGUiOiA2LCAicGFydGljaXBhbnRzIjogWyJDYXJvbGluYSBBbG1laWRhIiwgIklzcmFlbCBEYXZpZCBBbG1laWRhIiwgIkxlbmEgU29waGlhIERlaW5pbmdlciIsICJMZW8gRGVpbmluZ2VyIiwgIk1hcnRpbmEgRGFza2Fsb3ZhIiwgIlN1c2FubmUgRGVpbmluZ2VyIl19LCB7ImlkIjogIjE1NjY2MDIxNjU5OTgxNDYiLCAidGl0dWxhciI6ICJLaWFyYSBQYWRpbGxhIiwgIm51bV9wZW9wbGUiOiAyLCAicGFydGljaXBhbnRzIjogWyJLaWFyYSBQYWRpbGxhIiwgIkxlaWJuaXR6ICBEb21pbmd1ZXoiXX0sIHsiaWQiOiAiMTU2NjYwMjE2NjE1ODE4NSIsICJ0aXR1bGFyIjogIkJyZW5kYSBDZWJhbGxvcyIsICJudW1fcGVvcGxlIjogMiwgInBhcnRpY2lwYW50cyI6IFsiQnJlbmRhIENlYmFsbG9zIiwgIlRpbW90aHkgIE1jQ2FubiJdfSwgeyJpZCI6ICIxNTY2NjAyMTY2NDM2NDcyIiwgInRpdHVsYXIiOiAiTWFiZWwgQWxleGFuZHJhIEFjb3N0YSIsICJudW1fcGVvcGxlIjogMywgInBhcnRpY2lwYW50cyI6IFsiRGVyd2FuIElzYWNhciBNYXRlbyBBY29zdGEiLCAiTWFiZWwgQWxleGFuZHJhIEFjb3N0YSIsICJUaGFpcyBDcmlzYmVsIE1hdGVvIEFjb3N0YSJdfSwgeyJpZCI6ICIxNTY2NjAyMTY2NTQzOTg2IiwgInRpdHVsYXIiOiAiQnJhdWxpbyBHdXptXHUwMGUxbiIsICJudW1fcGVvcGxlIjogMiwgInBhcnRpY2lwYW50cyI6IFsiQnJhdWxpbyBHdXptXHUwMGUxbiIsICJCcmF1bGlvICBHdXptXHUwMGUxbiAgKDIpIl19LCB7ImlkIjogIjE1NjY2MDIxNjcyMzU3NzQiLCAidGl0dWxhciI6ICJFc3RlZmFueSBNYVx1MDBmMW9uIiwgIm51bV9wZW9wbGUiOiA1LCAicGFydGljaXBhbnRzIjogWyJjcmlzdGlhbiBjcnV6IiwgIkRpZWdvIENydXoiLCAiRXN0ZWZhbnkgTWFcdTAwZjFvbiIsICJFdmFsdW5hIENydXoiLCAiSWFuIFJpY2FyZG8gQ3J1eiJdfSwgeyJpZCI6ICIxNTY2NjAyMTY3MzkwODk2IiwgInRpdHVsYXIiOiAiWWFyaW1pdHN1a28gUGVyZXoiLCAibnVtX3Blb3BsZSI6IDIsICJwYXJ0aWNpcGFudHMiOiBbIkd1aWxsZXJtbyAgRmFuanVsIiwgIllhcmltaXRzdWtvIFBlcmV6Il19LCB7ImlkIjogIjE1NjY2MDIxNjc1MzAwNzMiLCAidGl0dWxhciI6ICJMaXNzYSBUb3JyZXMiLCAibnVtX3Blb3BsZSI6IDQsICJwYXJ0aWNpcGFudHMiOiBbIkRhdmlkIFRvcnJlcyIsICJEaW5hbnlpICBFc3RyZWxsYSIsICJGYXVzdG8gT21hciAgVGVqZWRhIiwgIkxpc3NhIFRvcnJlcyJdfSwgeyJpZCI6ICIxNTY2NjAyMTY3NTY1MDQwIiwgInRpdHVsYXIiOiAiQU5BIEtBUklOQSAgTU9SRU5PIEJFVEFOQ0VTIiwgIm51bV9wZW9wbGUiOiAyLCAicGFydGljaXBhbnRzIjogWyJBTkEgS0FSSU5BICBNT1JFTk8gQkVUQU5DRVMiLCAiTUFUSEVXICBBTENBTlRBUkEgTU9SRU5PIl19LCB7ImlkIjogIjE1NjY2MDIxNjg0OTU2NjEiLCAidGl0dWxhciI6ICJNYWlrZWwgIE1pbGZvcmQiLCAibnVtX3Blb3BsZSI6IDEsICJwYXJ0aWNpcGFudHMiOiBbIk1haWtlbCAgTWlsZm9yZCJdfSwgeyJpZCI6ICIxNTY2NjAyMTY4ODczMTAzIiwgInRpdHVsYXIiOiAiSmFuZXQgRGF2aWxhIiwgIm51bV9wZW9wbGUiOiAyLCAicGFydGljaXBhbnRzIjogWyJKYW5ldCBEYXZpbGEiLCAiUGVkcm8gTW9yYWxlcyJdfSwgeyJpZCI6ICIxNTY2NjAyMTY5NjY5NDg0IiwgInRpdHVsYXIiOiAiU0hBREVZIFNPUklBTk5ZIFBFUkVaIiwgIm51bV9wZW9wbGUiOiA4LCAicGFydGljaXBhbnRzIjogWyJBUkFKRVQgMSIsICJBUkFKRVQgMiIsICJBUkFKRVQgMyIsICJBUkFKRVQgNCIsICJBUkFKRVQgNSIsICJBUkFKRVQgNiIsICJBUkFKRVQgNyIsICJBUkFKRVQgOCJdfSwgeyJpZCI6ICIxNTY2NjAyMTY5Njg1MzEzIiwgInRpdHVsYXIiOiAiQWxiZXJ0byBqb3NlIE1lZGluYSBjYXJyaWxsbyIsICJudW1fcGVvcGxlIjogMiwgInBhcnRpY2lwYW50cyI6IFsiQWxiZXJ0byBqb3NlIE1lZGluYSBjYXJyaWxsbyIsICJDbGFyaXR6YSBBcnRlYWdhIl19LCB7ImlkIjogIjE1NjY2MDIxNzE1MjMwODQiLCAidGl0dWxhciI6ICJUZXJlc2EgIEdhbHZhbiIsICJudW1fcGVvcGxlIjogNCwgInBhcnRpY2lwYW50cyI6IFsiSU5WSVRBRE8gMSIsICJJTlZJVEFETyAyIiwgIklOVklUQURPICAzIiwgIklOVklUQURPIDQiXX0sIHsiaWQiOiAiMTU2NjYwMjE3MTcxMzUyNCIsICJ0aXR1bGFyIjogIk1heWxpcyBNQVJUSU4iLCAibnVtX3Blb3BsZSI6IDEsICJwYXJ0aWNpcGFudHMiOiBbIk1heWxpcyBNQVJUSU4iXX0sIHsiaWQiOiAiMTU2NjYwMjE3MTgwOTk1NCIsICJ0aXR1bGFyIjogIk1hcmlhIHBhdWxhIE1lbmRleiIsICJudW1fcGVvcGxlIjogMywgInBhcnRpY2lwYW50cyI6IFsiQWxlamFuZHJvIENvcnRlcyBOYXZhcnJldGUiLCAiTWFyaWEgcGF1bGEgTWVuZGV6IiwgIlBhb2xhIEFuZHJlYSBEaWF6Il19LCB7ImlkIjogIjE1NjY2MDIxNzI5MjM5MDMiLCAidGl0dWxhciI6ICJMdWlzIGZlbGlwZSBSb3NhcmlvIHBpY2hhcmRvIiwgIm51bV9wZW9wbGUiOiAxLCAicGFydGljaXBhbnRzIjogWyJMdWlzIGZlbGlwZSBSb3NhcmlvIHBpY2hhcmRvIl19LCB7ImlkIjogIjE1NjY2MDIxNzM1OTAzNzgiLCAidGl0dWxhciI6ICJKb3NlIEdhYnJpZWwgVmVudHVyYSIsICJudW1fcGVvcGxlIjogNywgInBhcnRpY2lwYW50cyI6IFsiQ2FybG9zICBWZW50dXJhIiwgIkpvc2UgVmVudHVyYSIsICJKb3NlIEdhYnJpZWwgVmVudHVyYSIsICJLYXJsYSAgUGVuem8iLCAiTmF6YXJlIFZlbnR1cmEiLCAiTmljYXVyaSBWZW50dXJhIiwgIlJlbmF0YSBWZW50dXJhIl19LCB7ImlkIjogIjE1NjY2MDIxNzM2MjUzNTEiLCAidGl0dWxhciI6ICJTb25uaWEgVGVqYWRhIiwgIm51bV9wZW9wbGUiOiA0LCAicGFydGljaXBhbnRzIjogWyJBcm1hbmRvIENvcm9taW5hcyIsICJKdWxpbyAgQ2FuZWxvIiwgIkxhdXJhIFZhc3F1d3oiLCAiTG9yZW56byAgVGVqYWRhIiwgIk1hcmlhIFZhbGRleiIsICJTaGVybGV5ICBSZXZpIiwgIlNvbm5pYSBUZWphZGEiXX0sIHsiaWQiOiAiMTU2NjYwMjE3MzgyMTQwMCIsICJ0aXR1bGFyIjogIlNhcmFoIE1vbnRlcm8iLCAibnVtX3Blb3BsZSI6IDUsICJwYXJ0aWNpcGFudHMiOiBbIkFubmlmZXIgQ2FicmFsZXMiLCAiQXJpYW5ueSBDYWJyYWxlcyIsICJKb3NlIGVtbWFudWVsIENhYnJhbGVzIiwgIkthdGFsZXlhIENhYnJhbGVzIiwgIlNhcmFoIE1vbnRlcm8iXX0sIHsiaWQiOiAiMTU2NjYwMjE3NTM0MjcwMSIsICJ0aXR1bGFyIjogIlJpY2FyZG8gTnVcdTAwZjFleiIsICJudW1fcGVvcGxlIjogNSwgInBhcnRpY2lwYW50cyI6IFsiSmVmZmVyc29uIE51XHUwMGYxZXoiLCAiSmVubmkgUGVyYWx0YSIsICJSaWNhcmRvIE51XHUwMGYxZXoiLCAiUmljaGVyc29uIE51XHUwMGYxZXoiLCAiU2hlcmxpbmUgTnVcdTAwZjFleiJdfSwgeyJpZCI6ICIxNTY2NjAyMTc1NjYxMDIwIiwgInRpdHVsYXIiOiAiUm9zc3kgVGF2ZXJhcyIsICJudW1fcGVvcGxlIjogMiwgInBhcnRpY2lwYW50cyI6IFsiQW1hdXJ5IE1lbG8iLCAiUm9zc3kgVGF2ZXJhcyJdfSwgeyJpZCI6ICIxNTY2NjAyMTc2MjI1MDM5IiwgInRpdHVsYXIiOiAiR2FicmllbCBDYW5hbCIsICJudW1fcGVvcGxlIjogMSwgInBhcnRpY2lwYW50cyI6IFsiR2FicmllbCBDYW5hbCJdfSwgeyJpZCI6ICIxNTY2NjAyMTc2NDA1Njk1IiwgInRpdHVsYXIiOiAiVGltb3RoeSBUcm91dG1hbiIsICJudW1fcGVvcGxlIjogNCwgInBhcnRpY2lwYW50cyI6IFsiRGVhbm55IE51XHUwMGYxZXoiLCAiSmF4eCBUcm91dG1hbiIsICJTdGVsbGEgVHJvdXRtYW4iLCAiVGltb3RoeSBUcm91dG1hbiJdfSwgeyJpZCI6ICIxNTY2NjAyMTc2NTAyMjk3IiwgInRpdHVsYXIiOiAiTWVyY2VkZXMgTWFyZ2FyaXRhIE1vcm9udGEgRXNjdWRlciIsICJudW1fcGVvcGxlIjogMiwgInBhcnRpY2lwYW50cyI6IFsiTWVyY2VkZXMgTWFyZ2FyaXRhIE1vcm9udGEgRXNjdWRlciIsICJSYWZhZWwgZGUgSmVzdXMgIFRhdmVyYXMgR2FyY2lhIl19LCB7ImlkIjogIjE1NjY2MDIxNzc0MDU4MDMiLCAidGl0dWxhciI6ICJKb3NlIE1hcmlhIEJvaWxzIE9qZWRhIiwgIm51bV9wZW9wbGUiOiAzLCAicGFydGljaXBhbnRzIjogWyJKb3NlIE1hcmlhIEJvaWxzIE9qZWRhIiwgIk1hdHRpYXMgIEJvaWxzIiwgIlRoaWFnbyBCb2lscyJdfSwgeyJpZCI6ICIxNTY2NjAyMTc3NzU4MTUwIiwgInRpdHVsYXIiOiAiU2FyYWggTW9udGVybyIsICJudW1fcGVvcGxlIjogMSwgInBhcnRpY2lwYW50cyI6IFsiU2FyYWggTW9udGVybyJdfSwgeyJpZCI6ICIxNTY2NjAyMTc3Nzg5Mjc0IiwgInRpdHVsYXIiOiAiTGF1cmEgRmVybmFuZGV6IiwgIm51bV9wZW9wbGUiOiAyLCAicGFydGljaXBhbnRzIjogWyJMYXVyYSBGZXJuYW5kZXoiLCAiU2FyYWggVGVqYWRhIl19LCB7ImlkIjogIjE1NjY2MDIxNzgzMTIwMzYiLCAidGl0dWxhciI6ICJKdWFuIE5lZ3JvbiIsICJudW1fcGVvcGxlIjogMywgInBhcnRpY2lwYW50cyI6IFsiSmVubnkgR2FyY2lhIiwgIkp1YW4gR29uemFsZXoiLCAiSnVhbiBOZWdyb24iXX0sIHsiaWQiOiAiMTU2NjYwMjE3ODY4Mjg3NiIsICJ0aXR1bGFyIjogIkxhdXJhIEZlcm5hbmRleiIsICJudW1fcGVvcGxlIjogMSwgInBhcnRpY2lwYW50cyI6IFsiTGF1cmEgRmVybmFuZGV6Il19LCB7ImlkIjogIjE1NjY2MDIxNzg3MzAwMzMiLCAidGl0dWxhciI6ICJSb2dlbGlvIFZpbmFscyBCYWV6IiwgIm51bV9wZW9wbGUiOiAzLCAicGFydGljaXBhbnRzIjogWyJBbGVqYW5kcmEgQmVuaXRleiIsICJBbmVyb2xpcyBNZXJjZWRlcyBTZWd1cmEgVmVyaWd1ZXRlIiwgIlJvZ2VsaW8gVmluYWxzIEJhZXoiXX0sIHsiaWQiOiAiMTU2NjYwMjE3OTg0NTM3MCIsICJ0aXR1bGFyIjogIkFkYWxiZXJ0byBEaXBsYW4iLCAibnVtX3Blb3BsZSI6IDEsICJwYXJ0aWNpcGFudHMiOiBbIkFkYWxiZXJ0byBEaXBsYW4iXX0sIHsiaWQiOiAiMTU2NjYwMjE3OTg5OTI4MiIsICJ0aXR1bGFyIjogIkpvc2UgTWFyaWEgQm9pbHMgT2plZGEiLCAibnVtX3Blb3BsZSI6IDMsICJwYXJ0aWNpcGFudHMiOiBbIkpvc2UgTWFyaWEgQm9pbHMgT2plZGEiLCAiTWFoYXNzZWwgIFZhenF1ZXoiLCAiTWFyaWEgSW5lcyBPamVkYSJdfSwgeyJpZCI6ICIxNTY2NjAyMTc5OTUzNTU1IiwgInRpdHVsYXIiOiAiU3VzYW5hIFZpZGFsIiwgIm51bV9wZW9wbGUiOiAxLCAicGFydGljaXBhbnRzIjogWyJTdXNhbmEgVmlkYWwiXX1d";
var DATA = JSON.parse(atob(_b64));
var LS = "carnavalesca";
var ck = {};
var onlyPending = false;
var openIds = {};

function load() { try { ck = JSON.parse(localStorage.getItem(LS) || "{}"); } catch(e) { ck = {}; } }
function save() { localStorage.setItem(LS, JSON.stringify(ck)); }
function ky(rid, p) { return rid + "||" + p; }
function isCk(rid, p) { return !!ck[ky(rid, p)]; }
function fmt(iso) { return new Date(iso).toLocaleTimeString("es-DO", {hour:"2-digit",minute:"2-digit"}); }
function initials(n) { return n.trim().split(/[ ]+/).slice(0,2).map(function(w){return w[0].toUpperCase();}).join(""); }
function norm(s) { return s.toLowerCase().normalize("NFD").replace(/[̀-ͯ]/g,""); }

function stats() {
  var total = 0;
  DATA.forEach(function(r) { r.participants.forEach(function(p) { if(isCk(r.id,p)) total++; }); });
  document.getElementById("sRes").textContent = DATA.length;
  document.getElementById("sCk").textContent = total;
}

function prog(r) {
  var done = r.participants.filter(function(p){ return isCk(r.id,p); }).length;
  return {done:done, total:r.participants.length, all:done===r.participants.length, some:done>0};
}

function esc(s) {
  return String(s).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");
}

function renderAll() {
  var q = norm(document.getElementById("q").value);
  var lst = document.getElementById("lst");
  var emp = document.getElementById("emp");
  var inf = document.getElementById("inf");

  var filtered = DATA.filter(function(r) {
    if(q) {
      var m = norm(r.titular).indexOf(q)>=0 || norm(r.id).indexOf(q)>=0 ||
              r.participants.some(function(p){return norm(p).indexOf(q)>=0;});
      if(!m) return false;
    }
    if(onlyPending && prog(r).all) return false;
    return true;
  });

  inf.textContent = (q||onlyPending)
    ? filtered.length + " resultado" + (filtered.length!==1?"s":"") + " de " + DATA.length + " reservaciones"
    : DATA.length + " reservaciones - " + Object.keys(ck).length + " check-ins";

  if(!filtered.length) { lst.innerHTML=""; emp.style.display="block"; return; }
  emp.style.display="none";

  var html = "";
  filtered.forEach(function(r) {
    var pr = prog(r);
    var isOpen = openIds[r.id];
    html += "<div class=\"card" + (pr.all?" full":pr.some?" part":"") + (isOpen?" open":"") + "\" id=\"c_" + esc(r.id) + "\">";
    html += "<div class=\"ch\" data-rid=\"" + esc(r.id) + "\">";
    html += "<div class=\"av\">" + esc(initials(r.titular)) + "</div>";
    html += "<div class=\"ci\"><div class=\"tn\">" + esc(r.titular) + "</div><div class=\"cid\">" + esc(r.id) + "</div></div>";
    html += "<div class=\"cm\"><div class=\"cnt\" id=\"cnt_" + esc(r.id) + "\">" + pr.done + "/" + pr.total + "</div>";
    html += "<div class=\"prog" + (pr.all?" done":"") + "\" id=\"prg_" + esc(r.id) + "\">" + (pr.all?"&#10003; Completo":"participantes") + "</div></div>";
    html += "<div class=\"arr\">&#9660;</div></div>";
    html += "<div class=\"pp\">";
    r.participants.forEach(function(p, i) {
      var c = isCk(r.id, p);
      var t = c ? fmt(ck[ky(r.id,p)].time) : "";
      html += "<div class=\"pr" + (c?" ck":"") + "\" data-rid=\"" + esc(r.id) + "\" data-idx=\"" + i + "\">";
      html += "<div class=\"circle\">" + (c?"&#10003;":"") + "</div>";
      html += "<div class=\"pname\">" + esc(p) + "</div>";
      if(c) html += "<div class=\"ptime\">" + esc(t) + "</div>";
      html += "</div>";
    });
    html += "</div></div>";
  });
  lst.innerHTML = html;
}

document.getElementById("lst").addEventListener("click", function(e) {
  var el = e.target;
  var header = null, row = null;
  while(el && el !== this) {
    if(el.classList) {
      if(el.classList.contains("ch")) { header = el; break; }
      if(el.classList.contains("pr")) { row = el; break; }
    }
    el = el.parentElement;
  }
  if(header) {
    var rid = header.getAttribute("data-rid");
    openIds[rid] = !openIds[rid];
    var card = document.getElementById("c_" + rid);
    if(card) card.classList.toggle("open", openIds[rid]);
    return;
  }
  if(row) {
    var rid = row.getAttribute("data-rid");
    var idx = parseInt(row.getAttribute("data-idx"));
    var r = null;
    for(var i=0;i<DATA.length;i++) { if(DATA[i].id===rid){r=DATA[i];break;} }
    if(!r || idx>=r.participants.length) return;
    var p = r.participants[idx];
    var k = ky(rid, p);
    if(ck[k]) { delete ck[k]; } else { ck[k] = {time: new Date().toISOString()}; }
    save(); stats();
    var isNowCk = !!ck[k];
    row.classList.toggle("ck", isNowCk);
    var circle = row.querySelector(".circle");
    if(circle) circle.innerHTML = isNowCk ? "&#10003;" : "";
    var timeEl = row.querySelector(".ptime");
    if(isNowCk) {
      if(!timeEl) { timeEl = document.createElement("div"); timeEl.className="ptime"; row.appendChild(timeEl); }
      timeEl.textContent = fmt(ck[k].time);
    } else { if(timeEl) timeEl.remove(); }
    var pr = prog(r);
    var cntEl = document.getElementById("cnt_" + rid);
    var prgEl = document.getElementById("prg_" + rid);
    var card = document.getElementById("c_" + rid);
    if(cntEl) cntEl.textContent = pr.done + "/" + pr.total;
    if(prgEl) { prgEl.innerHTML = pr.all ? "&#10003; Completo" : "participantes"; prgEl.classList.toggle("done", pr.all); }
    if(card) { card.classList.toggle("full", pr.all); card.classList.toggle("part", pr.some && !pr.all); }
  }
});

document.getElementById("fb").addEventListener("click", function() {
  onlyPending = !onlyPending;
  this.classList.toggle("on", onlyPending);
  renderAll();
});

var timer;
document.getElementById("q").addEventListener("input", function() {
  clearTimeout(timer); timer = setTimeout(renderAll, 200);
});

document.getElementById("expBtn").addEventListener("click", function() {
  var rows = [["Confirmacion","Titular","Participante","Hora Check-In"]];
  DATA.forEach(function(r) {
    r.participants.forEach(function(p) {
      var k = ky(r.id, p);
      if(ck[k]) rows.push([r.id, r.titular, p, new Date(ck[k].time).toLocaleString("es-DO")]);
    });
  });
  if(rows.length===1) { showToast("No hay check-ins aun"); return; }
  var csv = rows.map(function(row){return row.map(function(c){return '"'+String(c).replace(/"/g,'""')+'"';}).join(",");}).join("\n");
  var blob = new Blob(["\ufeff"+csv], {type:"text/csv;charset=utf-8;"});
  var url = URL.createObjectURL(blob);
  var a = document.createElement("a"); a.href=url; a.download="checkin_carnavalesca_"+new Date().toISOString().slice(0,16).replace("T","_")+".csv"; a.click();
  URL.revokeObjectURL(url);
  showToast("Exportado " + (rows.length-1) + " check-ins");
});

function showToast(msg) {
  var t = document.getElementById("toast");
  t.textContent = msg; t.classList.add("show");
  setTimeout(function(){ t.classList.remove("show"); }, 2500);
}

load(); stats(); renderAll();
</script>
</body>
</html>